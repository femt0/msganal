<mat-tab-group>
  <!-- AWARDS -->
  <mat-tab label="Awards">
	<div class="award-cards">

		<mat-card class="award-card" *ngIf="topMsg">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">🏆</div>
		    <mat-card-title>Golden Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre de messages</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topMsg" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre de messages </th>
			    <td mat-cell *matCellDef="let element"> {{element.cntmsg}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topImg">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">📷</div>
		    <mat-card-title>Photographe Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre d'images</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topImg" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre d'images </th>
			    <td mat-cell *matCellDef="let element"> {{element.cntimg}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topStk">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">🌅</div>
		    <mat-card-title>Sticker Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre de stickers</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topStk" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre de stickers </th>
			    <td mat-cell *matCellDef="let element"> {{element.cntstk}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topEmj">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">😁</div>
		    <mat-card-title>Emoji Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre d'emojis</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topEmj" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre d'emojis </th>
			    <td mat-cell *matCellDef="let element"> {{element.cntemj}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>


		<mat-card class="award-card" *ngIf="topAvgSize">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">📚</div>
		    <mat-card-title>Romancier Award</mat-card-title>
		    <mat-card-subtitle>Nombre moyen de caractères par message le plus grand</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topAvgSize" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre de caractères moyen </th>
			    <td mat-cell *matCellDef="let element"> {{element.avgsize}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="btmAvgSize">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">⚡️</div>
		    <mat-card-title>Flash Award</mat-card-title>
		    <mat-card-subtitle>Nombre moyen de caractères par message le plus petit</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="btmAvgSize" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre de caractères moyen </th>
			    <td mat-cell *matCellDef="let element"> {{element.avgsize}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topAvgSentiment">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">😊</div>
		    <mat-card-title>Feel Good Award</mat-card-title>
		    <mat-card-subtitle>Sentiment moyen le plus haut</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topAvgSentiment" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img table-img" src="{{element.imgurl}}">{{element.name}}</td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Sentiment moyen </th>
			    <td mat-cell *matCellDef="let element"> {{element.avgsentiment}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="btmAvgSentiment">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">😔</div>
		    <mat-card-title>Spleen Award</mat-card-title>
		    <mat-card-subtitle>Sentiment moyen le plus bas</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="btmAvgSentiment" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Sentiment moyen </th>
			    <td mat-cell *matCellDef="let element"> {{element.avgsentiment}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topTg">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">👊</div>
		    <mat-card-title>Tg Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre d'occurences du mot 'tg'</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topTg" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Nombre de 'tg' </th>
			    <td mat-cell *matCellDef="let element"> {{element.words.tg}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="topGodwin">
		  <mat-card-header>
		    <div mat-card-avatar class="avatar">⛔️</div>
		    <mat-card-title>Godwin Award</mat-card-title>
		    <mat-card-subtitle>Plus grand nombre d'occurences des mots 'hitler', 'nazi' et 'race'</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="topGodwin" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img class="rounded-img" src="{{element.imgurl}}"> {{element.name}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Total </th>
			    <td mat-cell *matCellDef="let element"> {{element.words.hitler + element.words.nazi + element.words.race}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

	</div>
  </mat-tab>

  <!-- GLOBAL -->
  <mat-tab label="Stats globales">
  	<div class="stat-cards">
    		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de messages</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.cntmsg}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre d'images</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.cntimg}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de stickers</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.cntstk}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre d'emojis</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.cntemj}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de caractères moyen par message</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.avgsize}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Sentiment moyen</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{globalUser.avgsentiment}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="globalUser && globalUser.emojis">
		  <mat-card-header>
		    <mat-card-subtitle>Emojis les plus utilisés</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="globalUser.emojis" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element" class="emoji">{{element[0]}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Total </th>
			    <td mat-cell *matCellDef="let element"> {{element[1]}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

		<mat-card class="award-card" *ngIf="globalUser && globalUser.stickers">
		  <mat-card-header>
		    <mat-card-subtitle>Emojis les plus utilisés</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="globalUser.stickers" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element"><img src="{{element[2]}}" class="sticker"/></td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Total </th>
			    <td mat-cell *matCellDef="let element"> {{element[1]}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>

  	</div>
  </mat-tab>

  <!-- USERS -->
  <mat-tab label="Stats perso">
    <mat-form-field>
      <mat-select [(ngModel)]="selectedUser">
      	<mat-select-trigger>
		  <img class="rounded-img select-img" src="{{selectedUser.imgurl}}">
		  {{selectedUser.name}}
      	</mat-select-trigger>
        <mat-option *ngFor="let user of users" [value]="user">
          <img class="rounded-img select-img" src="{{user.imgurl}}">
          {{user.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="stat-cards">
    		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de messages</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.cntmsg}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre d'images</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.cntimg}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de stickers</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.cntstk}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre d'emojis</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.cntemj}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Nombre de caractères moyen par message</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.avgsize}}</div>
  		  </mat-card-content>
  		</mat-card>

  		<mat-card class="award-card" *ngIf="selectedUser">
  		  <mat-card-header>
  		    <mat-card-subtitle>Sentiment moyen</mat-card-subtitle>
  		  </mat-card-header>
  		  <mat-card-content>
  			<div class="bigstat">{{selectedUser.avgsentiment}}</div>
  		  </mat-card-content>
  		</mat-card>

		<mat-card class="award-card" *ngIf="selectedUser && selectedUser.emojis">
		  <mat-card-header>
		    <mat-card-subtitle>Stickers les plus utilisés</mat-card-subtitle>
		  </mat-card-header>
		  <mat-divider></mat-divider>
		  <mat-card-content>
			<table mat-table [dataSource]="selectedUser.emojis" class=".mat-elevation-z0 award-table">
			  <!-- Position Column -->
			  <ng-container matColumnDef="position">
			    <th mat-header-cell *matHeaderCellDef> No. </th>
			    <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
			  </ng-container>

			  <!-- Name Column -->
			  <ng-container matColumnDef="name">
			    <th mat-header-cell *matHeaderCellDef> Nom </th>
			    <td mat-cell *matCellDef="let element" class="emoji">{{element[0]}} </td>
			  </ng-container>

			  <!-- Score Column -->
			  <ng-container matColumnDef="score">
			    <th mat-header-cell *matHeaderCellDef> Total </th>
			    <td mat-cell *matCellDef="let element"> {{element[1]}} </td>
			  </ng-container>

			  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			</table>
		  </mat-card-content>
		</mat-card>
  	</div>
  </mat-tab>
</mat-tab-group>